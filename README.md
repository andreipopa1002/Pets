# Pets

### Solution:
For the implementation of this problem I picked the dog api. The UI can display the follwing traits: Name, image, Life span, and temperament in the shape of a horizonta scrollable list. The api mentioned that the response will also contain a wiki url and the UI is capable of presenting a button and open that url if it exists. However, during testing it seems that the api is not sending this value. This project is using swift packages so please the packages before building.
### Architeture: 
To implement this project I used a VIPER architecure as it provides a good separations of concerns and the pattern helps with testing. 
The router part of the pattern will present a error controller or will open an URL in the default browser.
The interactor in this particular project does not contain logic, it is a pass-through component, I added it as I juggled between using a 3rd party to handle image downloads or do it myself.
The presenter: some of the responsibilities of this component are handled by the view model builder(more of a factory then builder), this component will take the model received from the api and will put together a struct that contains all the info that the view needs to put on screen. It is called ViewModel but it is not the same view model from MVVM, it is just a struct that contains data to be rendered and closures with actions, if there are actions that need to surface from the UI.This view model has no logic.
The services: when the interactor needs to do something it will delegate this to one of the services. We have a service that will execute an API call or another one that will prepare the url for the image loading sdk.
### Dependencies:
This project is using 2 swift packages:
1. NetworkingS - is a swift package written by me. The repo is available here: https://github.com/andreipopa1002/NetworkingS. This package is one of my experiments, the motivation to write it was to be able to execute API calls without dealing with URSession and to make it easier to test. It is a wrapper on URSession and makes heavy use of the result type. At the moment this package is able to do network calls, authorized network calls and to decode responses. It handles a couple of use cases, unfortunately image download is not one of them. I don't know where this package is going, at the moment is quite limited but I think I will probably add missing use cases to it. (like image/data downloading).
2. Kingfisher - image downloading can have a degree of complexity, there is the image download action, there is caching and synchronizing the downloaded data with the UI. By using Kingfisher I was able to avoid these problems. However, this comes at a cost: since to get the image we need to make an authenticated call, we ended up preparing some of the arguments for this in the business logic layer of the app but the actual download is done by Kingfisher via an UIImageView extension, so the data flow is not that clean and not consistent with the architecture. However, I think it is an acceptable compromise for the purpose of this project. Ideally,  we would not use a 3rd party for this and we would handle it at the interactor level via a data download service.
Reasons for picked Kingfisher: it is written in swift, has SPM support, has a decent number of colaborators, it is quite popular so well tested, regularly updated, well maintained, regularly updated. It is image focused and we don't get adittional functionality that we do not need.
